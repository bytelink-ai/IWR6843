esphome:
  name: iwr6843-radar
  platform: ESP32
  board: esp32dev

# Enable logging
logger:
  level: DEBUG

# Enable Home Assistant API
api:

ota:

wifi:
  ssid: "Your_SSID"
  password: "Your_Password"

# UART Configuration
# Config UART: CLI Port for sending configuration commands @ 115200 baud
uart:
  - id: uart_config
    tx_pin: GPIO27
    rx_pin: GPIO26
    baud_rate: 115200
  
  # Data UART: Data Port for receiving radar data @ 921600 baud
  - id: uart_data
    tx_pin: GPIO16  # Not used, but required
    rx_pin: GPIO17  # UART2 RX for data
    baud_rate: 921600

# IWR6843 Radar Component
iwr6843:
  id: my_radar
  config_uart_id: uart_config  # CLI Port @ 115200
  data_uart_id: uart_data      # Data Port @ 921600
  sop2_pin: GPIO33             # Optional: Boot mode select
  nrst_pin: GPIO32             # Optional: Reset pin
  ceiling_height: 290          # cm
  max_tracks: 5
  update_interval: 50ms

# Binary Sensor - Presence Detection
binary_sensor:
  - platform: iwr6843
    iwr6843_id: my_radar
    presence:
      name: "Radar Presence"
      device_class: presence

# Sensors
sensor:
  - platform: iwr6843
    iwr6843_id: my_radar
    num_targets:
      name: "Number of Targets"
    frame_number:
      name: "Frame Number"
